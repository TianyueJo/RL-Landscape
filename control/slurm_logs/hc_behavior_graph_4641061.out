==========================================
[HalfCheetah Behavior Graph] Starting job
Time: Thu Dec 18 11:51:02 EST 2025
Node: node6
Job ID: 4641061
==========================================
数据文件不存在，生成数据...
[Step 0] Preparing policy collection...
  Found 16 original policies
  Found 0 retrain policies

[Step 1] Collecting representative states using 16 original policies...
  Collecting states from task 16...
  Collecting states from task 17...
  Collecting states from task 18...
  Collecting states from task 19...
  Collecting states from task 20...
  Collecting states from task 21...
  Collecting states from task 22...
  Collecting states from task 23...
  Collecting states from task 24...
  Collecting states from task 25...
  Collecting states from task 26...
  Collecting states from task 27...
  Collecting states from task 28...
  Collecting states from task 29...
  Collecting states from task 30...
  Collecting states from task 31...
  Collected 160 states total
  Selected 160 representative states

[Step 2] Computing behavior vectors for 16 policies...
  Computing behavior vector for original policy task 16...
  Computing behavior vector for original policy task 17...
  Computing behavior vector for original policy task 18...
  Computing behavior vector for original policy task 19...
  Computing behavior vector for original policy task 20...
  Computing behavior vector for original policy task 21...
  Computing behavior vector for original policy task 22...
  Computing behavior vector for original policy task 23...
  Computing behavior vector for original policy task 24...
  Computing behavior vector for original policy task 25...
  Computing behavior vector for original policy task 26...
  Computing behavior vector for original policy task 27...
  Computing behavior vector for original policy task 28...
  Computing behavior vector for original policy task 29...
  Computing behavior vector for original policy task 30...
  Computing behavior vector for original policy task 31...
  Behavior matrix shape: (16, 960)

[Step 3] Applying PCA and computing L2 distance matrices...
[PCA2] explained_variance_ratio sum = 0.5151
[PCA6] explained_variance_ratio sum = 0.8096
[PCA10] explained_variance_ratio sum = 0.9317
  2D PCA shape: (16, 2)
  2D Explained variance ratio: [0.29396957 0.22110416]
  2D Total explained variance: 0.5151
  PCA2 L2 Distance range: [2.9840, 43.2776], mean: 21.8244, median: 22.1733
  PCA6 L2 Distance range: [10.9038, 46.1791], mean: 28.9303, median: 29.9111
  PCA10 L2 Distance range: [15.1892, 47.1270], mean: 31.3995, median: 31.8902

Valid data points: 16/16

[Step 4] Creating 3D visualization...
[Saved] Interactive HTML: analysis_outputs/behavior_space_pca_3d_hc.html
[Saved] Static PNG: analysis_outputs/behavior_space_pca_3d_hc.png
[Saved] Data file: analysis_outputs/behavior_space_pca_3d_hc.npz

生成多个阈值的图可视化...
加载数据文件: analysis_outputs/behavior_space_pca_3d_hc.npz
✓ 加载了 16 个策略的元数据

加载 reward 信息从: models
✓ 成功加载 16/16 个策略的 reward
  Reward 范围: [1169.34, 2863.53]

处理 PCA2 维度，距离矩阵形状: (16, 16)
距离统计:
  最小值: 2.9840
  最大值: 43.2776
  平均值: 21.8244
  中位数: 22.1733
  25%分位数: 14.4480
  75%分位数: 28.0288

使用百分位数阈值: ['8.6016', '14.4480', '22.1733', '28.0288', '35.0418']

生成 PCA2 图，阈值: 8.6016

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 12
连通分量数: 5
阈值: 8.6016

边的 L2 距离统计:
  最小值: 2.9840
  最大值: 8.4840
  平均值: 6.3088
  中位数: 6.2149

节点度统计:
  最小度: 0
  最大度: 3
  平均度: 1.50

连通分量:
  分量 1: ['T16', 'T18', 'T19', 'T20', 'T22', 'T25', 'T28'] (大小: 7)
  分量 2: ['T17', 'T21', 'T24', 'T27', 'T29', 'T31'] (大小: 6)
  分量 3: ['T23'] (大小: 1)
  分量 4: ['T26'] (大小: 1)
  分量 5: ['T30'] (大小: 1)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca2_threshold_8_6016.png

生成 PCA2 图，阈值: 14.4480

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 30
连通分量数: 3
阈值: 14.4480

边的 L2 距离统计:
  最小值: 2.9840
  最大值: 14.1430
  平均值: 9.3627
  中位数: 9.4068

节点度统计:
  最小度: 0
  最大度: 6
  平均度: 3.75

连通分量:
  分量 1: ['T16', 'T18', 'T19', 'T20', 'T22', 'T23', 'T25', 'T28', 'T30'] (大小: 9)
  分量 2: ['T17', 'T21', 'T24', 'T27', 'T29', 'T31'] (大小: 6)
  分量 3: ['T26'] (大小: 1)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca2_threshold_14_4480.png

生成 PCA2 图，阈值: 22.1733

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 60
连通分量数: 1
阈值: 22.1733

边的 L2 距离统计:
  最小值: 2.9840
  最大值: 22.0796
  平均值: 13.7647
  中位数: 14.3463

节点度统计:
  最小度: 2
  最大度: 13
  平均度: 7.50

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca2_threshold_22_1733.png

生成 PCA2 图，阈值: 28.0288

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 90
连通分量数: 1
阈值: 28.0288

边的 L2 距离统计:
  最小值: 2.9840
  最大值: 28.0231
  平均值: 17.6143
  中位数: 18.5924

节点度统计:
  最小度: 7
  最大度: 15
  平均度: 11.25

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca2_threshold_28_0288.png

生成 PCA2 图，阈值: 35.0418

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 108
连通分量数: 1
阈值: 35.0418

边的 L2 距离统计:
  最小值: 2.9840
  最大值: 34.8241
  平均值: 19.8294
  中位数: 20.1248

节点度统计:
  最小度: 9
  最大度: 15
  平均度: 13.50

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca2_threshold_35_0418.png

处理 PCA6 维度，距离矩阵形状: (16, 16)
距离统计:
  最小值: 10.9038
  最大值: 46.1791
  平均值: 28.9303
  中位数: 29.9111
  25%分位数: 23.7857
  75%分位数: 33.8121

使用百分位数阈值: ['18.4809', '23.7857', '29.9111', '33.8121', '37.6639']

生成 PCA6 图，阈值: 18.4809

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 12
连通分量数: 7
阈值: 18.4809

边的 L2 距离统计:
  最小值: 10.9038
  最大值: 18.4343
  平均值: 14.5558
  中位数: 14.2341

节点度统计:
  最小度: 0
  最大度: 5
  平均度: 1.50

连通分量:
  分量 1: ['T16', 'T18', 'T19', 'T20', 'T22', 'T23', 'T25', 'T30'] (大小: 8)
  分量 2: ['T17'] (大小: 1)
  分量 3: ['T21'] (大小: 1)
  分量 4: ['T24'] (大小: 1)
  分量 5: ['T26'] (大小: 1)
  分量 6: ['T27', 'T29', 'T31'] (大小: 3)
  分量 7: ['T28'] (大小: 1)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca6_threshold_18_4809.png

生成 PCA6 图，阈值: 23.7857

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 30
连通分量数: 1
阈值: 23.7857

边的 L2 距离统计:
  最小值: 10.9038
  最大值: 23.7836
  平均值: 18.5869
  中位数: 18.7357

节点度统计:
  最小度: 1
  最大度: 7
  平均度: 3.75

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca6_threshold_23_7857.png

生成 PCA6 图，阈值: 29.9111

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 60
连通分量数: 1
阈值: 29.9111

边的 L2 距离统计:
  最小值: 10.9038
  最大值: 29.8900
  平均值: 22.6735
  中位数: 23.7850

节点度统计:
  最小度: 2
  最大度: 12
  平均度: 7.50

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca6_threshold_29_9111.png

生成 PCA6 图，阈值: 33.8121

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 90
连通分量数: 1
阈值: 33.8121

边的 L2 距离统计:
  最小值: 10.9038
  最大值: 33.8078
  平均值: 25.7342
  中位数: 26.6669

节点度统计:
  最小度: 6
  最大度: 15
  平均度: 11.25

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca6_threshold_33_8121.png

生成 PCA6 图，阈值: 37.6639

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 108
连通分量数: 1
阈值: 37.6639

边的 L2 距离统计:
  最小值: 10.9038
  最大值: 37.6245
  平均值: 27.3948
  中位数: 27.8589

节点度统计:
  最小度: 9
  最大度: 15
  平均度: 13.50

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca6_threshold_37_6639.png

处理 PCA10 维度，距离矩阵形状: (16, 16)
距离统计:
  最小值: 15.1892
  最大值: 47.1270
  平均值: 31.3995
  中位数: 31.8902
  25%分位数: 26.7740
  75%分位数: 35.6694

使用百分位数阈值: ['22.2121', '26.7740', '31.8902', '35.6694', '39.3942']

生成 PCA10 图，阈值: 22.2121

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 12
连通分量数: 7
阈值: 22.2121

边的 L2 距离统计:
  最小值: 15.1892
  最大值: 22.2066
  平均值: 19.2192
  中位数: 19.3324

节点度统计:
  最小度: 0
  最大度: 4
  平均度: 1.50

连通分量:
  分量 1: ['T16'] (大小: 1)
  分量 2: ['T17', 'T27', 'T29', 'T31'] (大小: 4)
  分量 3: ['T18', 'T19', 'T20', 'T22', 'T23', 'T25', 'T30'] (大小: 7)
  分量 4: ['T21'] (大小: 1)
  分量 5: ['T24'] (大小: 1)
  分量 6: ['T26'] (大小: 1)
  分量 7: ['T28'] (大小: 1)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca10_threshold_22_2121.png

生成 PCA10 图，阈值: 26.7740

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 30
连通分量数: 1
阈值: 26.7740

边的 L2 距离统计:
  最小值: 15.1892
  最大值: 26.5020
  平均值: 22.4195
  中位数: 23.1089

节点度统计:
  最小度: 1
  最大度: 7
  平均度: 3.75

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca10_threshold_26_7740.png

生成 PCA10 图，阈值: 31.8902

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 60
连通分量数: 1
阈值: 31.8902

边的 L2 距离统计:
  最小值: 15.1892
  最大值: 31.8195
  平均值: 25.8202
  中位数: 26.6833

节点度统计:
  最小度: 2
  最大度: 12
  平均度: 7.50

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca10_threshold_31_8902.png

生成 PCA10 图，阈值: 35.6694

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 90
连通分量数: 1
阈值: 35.6694

边的 L2 距离统计:
  最小值: 15.1892
  最大值: 35.5554
  平均值: 28.4868
  中位数: 29.2792

节点度统计:
  最小度: 6
  最大度: 15
  平均度: 11.25

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca10_threshold_35_6694.png

生成 PCA10 图，阈值: 39.3942

======================================================================
行为空间图统计信息
======================================================================
节点数: 16
边数: 108
连通分量数: 1
阈值: 39.3942

边的 L2 距离统计:
  最小值: 15.1892
  最大值: 39.3771
  平均值: 30.0152
  中位数: 30.8405

节点度统计:
  最小度: 9
  最大度: 15
  平均度: 13.50

连通分量:
  分量 1: ['T16', 'T17', 'T18', 'T19', 'T20', 'T21', 'T22', 'T23', 'T24', 'T25', 'T26', 'T27', 'T28', 'T29', 'T30', 'T31'] (大小: 16)
======================================================================
✓ 图已保存到: analysis_outputs/hc_behavior_graphs/behavior_graph_pca10_threshold_39_3942.png

✓ 所有图已保存到: analysis_outputs/hc_behavior_graphs
End time: Thu Dec 18 11:52:01 EST 2025
任务完成！结果保存在: analysis_outputs/hc_behavior_graphs/
